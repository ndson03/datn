<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
	<title>Đăng nhập - Trường SICT - HaUI</title>
	<head th:replace="fragments/head :: common-head"></head>
	<link rel="stylesheet" th:href="@{/css/login.css}">
</head>

<body>
<div class="container my-5 d-flex flex-column flex-grow-1">
	<div class="row justify-content-center my-auto">
		<div class="col-12 col-md-10 col-lg-8">
			<div class="login-container">
				<!-- Brand Identity -->
				<div class="brand-header">
					<div class="brand-logo">
						<i class="fas fa-graduation-cap"></i>
					</div>
					<div class="brand-name">Trường SICT - HaUI</div>
				</div>


				<form action="#" th:action="@{/authenticateTheUser}" method="POST">
					<!-- Error Message -->
					<div class="error-message" th:if="${param.error}">
						<i class="fas fa-exclamation-circle me-2"></i>
						Tài khoản hoặc mật khẩu không hợp lệ
					</div>

					<div class="success-message" th:if="${message}">
						<i class="fas fa-check-circle me-2"></i>
						<span th:text="${message}"></span>
					</div>

					<!-- Error message từ các chức năng quên mật khẩu/đặt lại mật khẩu -->
					<div class="error-message" th:if="${error}">
						<i class="fas fa-exclamation-circle me-2"></i>
						<span th:text="${error}"></span>
					</div>

					<div class="error-message" th:if="${param.expired}">
						<i class="fas fa-exclamation-circle me-2"></i>
						Phiên đăng nhập đã hết hiệu lực!
					</div>
					<!-- Success Message -->
					<div class="success-message" th:if="${param.registrationSuccess}">
						<i class="fas fa-check-circle me-2"></i>
						Đăng ký thành công! Vui lòng đăng nhập.
					</div>

					<!-- Username -->
					<div class="mb-3">
						<label for="username" class="form-label">Tên người dùng</label>
						<div class="input-group">
                                <span class="input-group-text">
                                    <i class="fas fa-user text-muted"></i>
                                </span>
							<input type="text" class="form-control" id="username" name="username" placeholder="Nhập tên người dùng" autofocus>
						</div>
					</div>

					<!-- Password -->
					<div class="mb-4">
						<div class="d-flex justify-content-between">
							<label for="password" class="form-label">Mật khẩu</label>
							<a th:href="@{/forgot-password}" class="text-primary small text-decoration-none">Quên mật khẩu?</a>
						</div>
						<div class="input-group">
							<span class="input-group-text">
								<i class="fas fa-lock text-muted"></i>
							</span>
							<input type="password" class="form-control" id="password" name="password" placeholder="Nhập mật khẩu">
						</div>
					</div>

					<!-- Login Button -->
					<button type="submit" class="btn btn-primary btn-login">
						<i class="fas fa-sign-in-alt me-2"></i>Đăng nhập
					</button>
				</form>

				<!-- Divider -->
				<div style="height: 15px;"></div>

				<!-- Register Link -->
				<div class="text-center">
					<p class="mb-2">Bạn chưa có tài khoản?</p>
					<a th:href="@{/register/showRegistrationForm}" class="btn btn-outline-primary">
						<i class="fas fa-user-plus me-2"></i>Đăng ký
					</a>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>